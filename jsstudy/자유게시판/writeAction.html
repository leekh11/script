<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="js/myscript2.js"></script>
    <title>Document</title>
</head>

<body>
    <script>
        var v_title = request.getParameter("nm_title");
        var v_writer = request.getParameter("nm_writer");
        var v_content = request.getParameter("myEditor").replace(/\+/g, " ");

        var v_gul = {};
        v_gul.uniq = 1;             // 중복되지 않는 값!
        v_gul.title = v_title;
        v_gul.writer = v_writer;
        v_gul.content = v_content;
        v_gul.date = (new Date()).toLocaleDateString();
        var v_tblName = "gesiT";  //로컬스토리지 key값

        // 맨처음 테이터가 들어갈때와 이미 데이터가 있어서 추가하는 경우를 
        // 구분해야 함!
        var v_gesiDatas = [];
        if (localStorage.getItem(v_tblName)) {
            v_gesiDatas = JSON.parse(localStorage.getItem(v_tblName));
            v_gul.uniq = parseInt(v_gesiDatas[v_gesiDatas.length - 1].uniq) + 1
        } else {

        }
        v_gesiDatas.push(v_gul);
        localStorage.setItem(v_tblName, JSON.stringify(v_gesiDatas));

        location.replace("list.html");

        // console.log(v_title, v_writer, v_content);
    </script>
</body>